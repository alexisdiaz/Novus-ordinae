<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Novus Ordinae — Clan</title>
  <link rel="stylesheet" href="styles.css">
  <meta name="description" content="Clan Novus Ordinae — Hermandad gamer enfocada en disciplina, estrategia y comunidad.">
  <style>
    .card.clickable{cursor:pointer}
    /* Horizontal carousel base */
    .carousel{position:relative}
    .rail{
      display:flex; gap:16px; overflow:auto; padding-bottom:8px;
      scroll-snap-type:x mandatory; scroll-behavior:smooth;
    }
    .rail::-webkit-scrollbar{height:8px}
    .rail::-webkit-scrollbar-thumb{background:#2a2a31;border-radius:8px}
    .rail > .card, .rail > .preview-card{scroll-snap-align:start; flex:0 0 280px}
    .car-nav{position:absolute; inset:0; pointer-events:none}
    .car-btn{
      position:absolute; top:50%; transform:translateY(-50%); pointer-events:auto;
      background:rgba(0,0,0,.45); border:1px solid #2a2a31; color:#fff;
      padding:10px 12px; border-radius:12px; cursor:pointer; font-size:18px;
    }
    .car-btn.prev{left:-6px} .car-btn.next{right:-6px}
    @media (max-width:600px){ .rail > .card, .rail > .preview-card{flex-basis: 84vw;} }
  </style>
</head>
<body>
  <header class="header">
    <div class="container nav">
      <a href="#" id="brandHome" class="brand">
        <img src="assets/logo.png" alt="Novus Ordinae logo">
        <span>Novus Ordinae</span>
      </a>
      <nav>
        <a href="#historia" class="btn">Historia</a>
        <a href="#lideres" class="btn">Líderes</a>
        <a href="#previews" class="btn">Previews</a>
        <a href="https://discord.gg/SPV6hsRtr5" target="_blank" rel="noopener" class="btn discord">Discord</a>
        <a href="https://www.facebook.com/groups/516354721841754" target="_blank" rel="noopener" class="btn facebook">Facebook</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div>
          <h1>Novus Ordinae.</h1>
          <p>Nuestro clan nació en Defiance. Unidos por disciplina, estrategia y diversión.
          Únete a pvp, eventos y a una comunidad que siempre está activa.</p>
          <div class="cta-row">
            <a href="https://discord.gg/SPV6hsRtr5" class="btn primary">Únete a Discord</a>
            <a href="#lideres" class="btn secondary">Conoce a los líderes</a>
          </div>
        </div>
        <div class="hero-art" style="background:radial-gradient(60% 80% at 30% 30%, rgba(240,45,45,.25), transparent 60%), radial-gradient(50% 70% at 70% 60%, rgba(245,184,0,.18), transparent 60%), url('assets/defiance-logo.png') center/contain no-repeat;" aria-label="Defiance logo"></div>
      </div>
    </section>

    <section id="historia" class="section container">
      <h2>¿Qué hacemos?</h2>
      <p class="sub">Farmear, Expediciones, Coop-maps, Pvp, sorteos y guías para nuevos jugadores y viejos.</p>
    </section>

    <section id="mv" class="section container">
      <h2>Misión & Visión</h2>
      <p class="sub">El camino es claro: disciplina, fuerza y victoria.</p>
      <div class="mv-grid">
        <div class="mv-card">
          <h3>Misión</h3>
          <p>Forjar una comunidad inclusiva y disciplinada donde jugadores de todos los egos
          mejoren habilidades, disfruten del juego en equipo y alcancen metas compartidas mediante
          eventos, guías y apoyo constante.</p>
        </div>
        <div class="mv-card">
          <h3>Visión</h3>
          <p>Ser referencia latina de clanes organizados: una comunidad reconocida por su
          nivel competitivo, ética de juego y capacidad de formar nuevos jugadores.</p>
        </div>
      </div>
    </section>

    <section id="lideres" class="section container">
      <h2>Líderes</h2>
      <p class="sub">Conoce a los lideres del clan.</p>
      
      <div class="carousel">
        <div id="leadersRail" class="rail"></div>
        <div class="car-nav">
          <button class="car-btn prev" data-target="leadersRail">‹</button>
          <button class="car-btn next" data-target="leadersRail">›</button>
        </div>
      </div>

      <div class="cta-wrap" style="margin-top:18px">
      </div>
    </section>

    <section id="previews" class="section container">
      <h2>Previews</h2>
      <p class="sub">Clips, imágenes y momentos que definen nuestra comunidad.</p>

      <div class="carousel">
        <div id="previewsRail" class="rail"></div>
        <div class="car-nav">
          <button class="car-btn prev" data-target="previewsRail">‹</button>
          <button class="car-btn next" data-target="previewsRail">›</button>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">© 2025 Novus Ordinae — Comunidad latina</div>
  </footer>

  <!-- Modal IG-like con carrusel interno -->
  <div class="modal" id="postModal" aria-hidden="true">
    <button class="close" aria-label="Cerrar">✕</button>
    <button class="nav prev" aria-label="Anterior">‹</button>
    <button class="nav next" aria-label="Siguiente">›</button>
    <div class="post" role="dialog" aria-modal="true">
      <div class="media" id="postMedia"><img id="postImg" alt=""></div>
      <div class="side">
        <h3 id="postTitle">Título</h3>
        <div class="meta" id="postMeta"></div>
        <div class="desc" id="postDesc"></div>
        <div class="actions">
          <a class="btn primary" href="https://discord.gg/SPV6hsRtr5" target="_blank" rel="noopener">Unirte a Discord</a>
          <button class="btn" id="closePost">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <script>
  // ----- Datos dinámicos -----
  const LEADERS = [
     { title:"Alastoria", role:"Fundador • EGO 6,000", badge:"Fundador", img:"assets/alastoria2.png", desc: "novio de Daisy\n\n " },
    { title:"The-Shadow", role:"Líder • EGO 6,000", badge:"Líder", img:"assets/shadow1.png", desc:"PVP, creador de builds y guias, responsable de sorteos.\n\n Goat" },
    { title:"Nombre 2", role:"Líder", badge:"Líder", img:"", desc:"" },
    { title:"Nombre 3", role:"Líder", badge:"Líder", img:"", desc:"" },
    { title:"Nombre ", role:"Líder", badge:"Líder", img:"", desc:"" },
    { title:"Nombre ", role:"Líder", badge:"Líder", img:"", desc:"" },
    { title:"Nombre ", role:"Líder", badge:"Líder", img:"", desc:"" },
    { title:"Nombre ", role:"Líder", badge:"Líder", img:"", desc:"" },
    { title:"Nombre ", role:"Líder", badge:"Líder", img:"", desc:"" },
    { title:"Nombre ", role:"Líder", badge:"Líder", img:"", desc:"" },
    { title:"Nombre ", role:"Líder", badge:"Líder", img:"", desc:"" },
    { title:"Nombre ", role:"Líder", badge:"Líder", img:"", desc:"" },
    // Agrega más líderes aquí...
  ];

  const PREVIEWS = [
    { type:"video", src:"", title:"Proximamente" },
    { type:"image", src:"", title:"Proximamente" },
    { type:"image", src:"", title:"Proximamente" },
    // Agrega más previews aquí...
  ];

  // ----- Render helpers -----
  const leadersRail  = document.getElementById('leadersRail');
  const previewsRail = document.getElementById('previewsRail');

  const cardHTML = (l) => `
    <article class="card clickable" data-post='${JSON.stringify(l).replace(/'/g,"&apos;")}'>
      <div class="thumb" style="background-image:url('${l.img || ""}')"></div>
      <div class="body">
        ${l.badge ? `<span class="badge">${l.badge}</span>` : ""}
        <h3>${l.title || ""}</h3>
        <div class="role">${l.role || ""}</div>
      </div>
    </article>
  `;
  const previewHTML = (p) => `
    <article class="preview-card">
      <div class="media">${
        p.type==="video"
          ? `<video controls preload="metadata"><source src="${p.src}" type="video/mp4"></video>`
          : `<img src="${p.src}" alt="${p.title || ""}" loading="lazy">`
      }</div>
      <div class="body">${p.title || ""}</div>
    </article>
  `;

  leadersRail.innerHTML  = LEADERS.map(cardHTML).join('');
  previewsRail.innerHTML = PREVIEWS.map(previewHTML).join('');

  // ----- Modal con carrusel interno -----
  (function(){
    const modal = document.getElementById('postModal');
    const imgEl = document.getElementById('postImg');
    const tEl   = document.getElementById('postTitle');
    const mEl   = document.getElementById('postMeta');
    const dEl   = document.getElementById('postDesc');
    const closeBtn  = document.getElementById('closePost');
    const closeIcon = modal.querySelector('.close');
    const btnPrev   = modal.querySelector('.nav.prev');
    const btnNext   = modal.querySelector('.nav.next');

    let current = 0;

    function openPost(i){
      const data = LEADERS[i];
      if(!data) return;
      tEl.textContent = data.title || '';
      mEl.textContent = data.role  || '';
      dEl.textContent = data.desc  || '';
      imgEl.src       = data.img   || '';
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow='hidden';
      current = i;
    }
    function closePost(){
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow='';
    }
    function next(){ if(current < LEADERS.length-1){ openPost(current+1); } }
    function prev(){ if(current > 0){ openPost(current-1); } }

    // Wire open from cards
    leadersRail.addEventListener('click', (e)=>{
      const card = e.target.closest('.card.clickable');
      if(!card) return;
      const idx = Array.from(leadersRail.children).indexOf(card);
      openPost(idx);
    });

    // Close & nav
    modal.addEventListener('click', e=>{ if(e.target===modal) closePost(); });
    closeBtn.addEventListener('click', closePost);
    closeIcon.addEventListener('click', closePost);
    btnNext.addEventListener('click', next);
    btnPrev.addEventListener('click', prev);
    document.addEventListener('keydown', e=>{
      if(e.key==='Escape') closePost();
      if(e.key==='ArrowRight') next();
      if(e.key==='ArrowLeft') prev();
    });
    // Swipe
    let startX=0;
    modal.addEventListener('touchstart', e=>{ startX = e.touches[0].clientX; }, {passive:true});
    modal.addEventListener('touchend', e=>{
      const diff = e.changedTouches[0].clientX - startX;
      if(Math.abs(diff)>50){ if(diff<0) next(); else prev(); }
    });
  })();

  // ----- Carruseles externos: botones, drag & wheel -----
  function setupCarousel(railId){
    const rail = document.getElementById(railId);
    const prevBtn = document.querySelector('.car-btn.prev[data-target="'+railId+'"]');
    const nextBtn = document.querySelector('.car-btn.next[data-target="'+railId+'"]');
    const step = () => Math.min(rail.clientWidth * 0.8, 360);

    prevBtn.addEventListener('click', ()=> rail.scrollBy({left:-step(), behavior:'smooth'}));
    nextBtn.addEventListener('click', ()=> rail.scrollBy({left: step(), behavior:'smooth'}));

    // drag to scroll
    let isDown=false, startX=0, scrollLeft=0;
    rail.addEventListener('mousedown', (e)=>{ isDown=true; rail.classList.add('drag'); startX=e.pageX - rail.offsetLeft; scrollLeft=rail.scrollLeft; });
    rail.addEventListener('mouseleave', ()=>{ isDown=false; rail.classList.remove('drag'); });
    rail.addEventListener('mouseup',    ()=>{ isDown=false; rail.classList.remove('drag'); });
    rail.addEventListener('mousemove',  (e)=>{
      if(!isDown) return;
      e.preventDefault();
      const x = e.pageX - rail.offsetLeft;
      const walk = (x - startX) * 1.2;
      rail.scrollLeft = scrollLeft - walk;
    });

    // wheel horizontal
    rail.addEventListener('wheel', (e)=>{
      if(Math.abs(e.deltaY) > Math.abs(e.deltaX)){
        rail.scrollBy({left: e.deltaY, behavior:'smooth'});
        e.preventDefault();
      }
    }, {passive:false});
  }
  setupCarousel('leadersRail');
  setupCarousel('previewsRail');
  </script>

<script>
// Brand click: remove hash and scroll to top
(function(){
  const brand = document.getElementById('brandHome');
  if(brand){
    brand.addEventListener('click', function(e){
      e.preventDefault();
      history.replaceState(null, '', window.location.pathname);
      window.scrollTo({top:0, behavior:'smooth'});
    });
  }
  // Smooth scroll for nav anchors
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', (e)=>{
      const id = a.getAttribute('href');
      const el = document.querySelector(id);
      if(el){
        e.preventDefault();
        el.scrollIntoView({behavior:'smooth', block:'start'});
        history.replaceState(null, '', id);
      }
    });
  });
})();
</script>



<script>
// Bloquear menú contextual
document.addEventListener('contextmenu', e => e.preventDefault());

// Detectar combinaciones peligrosas
document.addEventListener('keydown', e => {
  // F12
  if (e.key === "F12") {
    e.preventDefault();
    e.stopPropagation();
    return false;
  }

  // Ctrl + U
  if (e.ctrlKey && e.key.toLowerCase() === "u") {
    e.preventDefault();
    e.stopPropagation();
    return false;
  }

  // Ctrl + Shift + I / J / C
  if (e.ctrlKey && e.shiftKey && ["i","j","c"].includes(e.key.toLowerCase())) {
    e.preventDefault();
    e.stopPropagation();
    return false;
  }
});

// Extra: al soltar teclas, también bloquear
document.addEventListener('keyup', e => {
  if ((e.ctrlKey && e.key.toLowerCase() === "u") || e.key === "F12") {
    e.preventDefault();
    e.stopPropagation();
    return false;
  }
});
</script>




<script>
(function(){
  // Rails
  const leadersRail  = document.getElementById('leadersRail');
  const previewsRail = document.getElementById('previewsRail');

  // Shared modal elements
  const modal   = document.getElementById('postModal');
  const mediaEl = document.getElementById('postMedia');
  const tEl     = document.getElementById('postTitle');
  const mEl     = document.getElementById('postMeta');
  const dEl     = document.getElementById('postDesc');
  const closeBtn  = document.getElementById('closePost');
  const closeIcon = modal.querySelector('.close');
  const btnPrev   = modal.querySelector('.nav.prev');
  const btnNext   = modal.querySelector('.nav.next');

  // Data sources (use arrays defined earlier in the page)
  const Data = {
    leaders: typeof LEADERS !== 'undefined' ? LEADERS : [],
    previews: typeof PREVIEWS !== 'undefined' ? PREVIEWS : []
  };

  let current = 0;
  let currentType = 'leaders'; // 'leaders' | 'previews'

  function getList(){ return Data[currentType] || []; }

  function setMediaFor(item){
    // Reset media content
    mediaEl.innerHTML = '';
    if(currentType === 'previews' && item.type === 'video'){
      const v = document.createElement('video');
      v.setAttribute('controls','');
      v.setAttribute('autoplay','');
      v.innerHTML = `<source src="${item.src || ''}" type="video/mp4">`;
      mediaEl.appendChild(v);
    } else {
      const img = document.createElement('img');
      img.id = 'postImg';
      img.alt = '';
      img.src = item.img || item.src || '';
      mediaEl.appendChild(img);
    }
  }

  function openPost(i, type){
    currentType = type;
    const list = getList();
    const data = list[i];
    if(!data) return;
    tEl.textContent = data.title || '';
    mEl.textContent = (type==='leaders' ? (data.role || '') : (data.role || ''));
    dEl.textContent = data.desc || data.title || '';
    setMediaFor(data);
    modal.classList.add('open');
    modal.setAttribute('aria-hidden','false');
    document.body.style.overflow='hidden';
    current = i;
  }

  function closePost(){
    modal.classList.remove('open');
    modal.setAttribute('aria-hidden','true');
    document.body.style.overflow='';
    // Stop video playback if any
    const v = mediaEl.querySelector('video');
    if(v){ v.pause(); }
  }

  function next(){
    const list = getList();
    if(current < list.length - 1){ openPost(current + 1, currentType); }
  }
  function prev(){
    if(current > 0){ openPost(current - 1, currentType); }
  }

  // Open from leaders rail
  if(leadersRail){
    leadersRail.addEventListener('click', (e)=>{
      const card = e.target.closest('.card.clickable');
      if(!card) return;
      const idx = Array.from(leadersRail.children).indexOf(card);
      openPost(idx, 'leaders');
    });
  }
  // Open from previews rail
  if(previewsRail){
    previewsRail.addEventListener('click', (e)=>{
      const card = e.target.closest('.preview-card');
      if(!card) return;
      const idx = Array.from(previewsRail.children).indexOf(card);
      openPost(idx, 'previews');
    });
  }

  // Close & navigation
  modal.addEventListener('click', (e)=>{ if(e.target === modal) closePost(); });
  closeBtn.addEventListener('click', closePost);
  closeIcon.addEventListener('click', closePost);
  btnNext.addEventListener('click', next);
  btnPrev.addEventListener('click', prev);

  // Keyboard
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape') closePost();
    if(e.key === 'ArrowRight') next();
    if(e.key === 'ArrowLeft')  prev();
  });

  // Swipe on modal
  let startX = 0;
  modal.addEventListener('touchstart', (e)=>{ startX = e.touches[0].clientX; }, {passive:true});
  modal.addEventListener('touchend', (e)=>{
    const diff = e.changedTouches[0].clientX - startX;
    if(Math.abs(diff) > 50){ if(diff < 0) next(); else prev(); }
  });
})();
</script>

</body>
</html>
